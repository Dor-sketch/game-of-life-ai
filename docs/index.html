<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T7HFKFX0PR"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-T7HFKFX0PR');
    </script>

    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- SEO and Metadata -->
    <meta name="author" content="Dor Pascal">
    <meta name="generator" content="vscode">
    <meta property="og:title" content="Game of Life Online Simulator">
    <meta property="og:locale" content="en_US">
    <meta name="description"
            content="Conway's Game of Life Simulator with customizable themes and interactive controls to start, pause, clear, randomize, and advance generations.">
    <meta name="keywords"
        content="Conway's Game of Life, Game of Life, Cellular Automata, Online Simulator, Genetic Algorithm, Artificial Intelligence, AI, Machine Learning, ML, Evolutionary Algorithm, Evolutionary Computation, Optimization, Pattern Recognition, Emergent Behavior, Simulation, Interactive, Controls, Start, Pause, Clear, Randomize, Next Generation, Theme, Customizable, Blue, Forest, Green, Lavender, Metal_Blue, Metal_Red, Orange, LightPink, Purple, Maroon, Smoke">
    <meta property="og:description"
        content="Conway's Game of Life Simulator with customizable themes and interactive controls to start, pause, clear, randomize, and advance generations.">    <meta property="og:url" content="https://dorpascal.com/game-of-life-ai/">
    <meta property="og:site_name" content="Game of Life Online">
    <meta property="og:type" content="website">
    <meta property="og:image" content="./cover.gif">
    <meta name="twitter:card" content="summary">
    <meta property="twitter:title" content="Genetic Algorithm for Conway’s Game of Life">
    <meta name="theme-color" content="Lavender">
    <meta name="apple-mobile-web-app-title" content="Game of Life AI">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="application-name" content="Game of Life AI">
    <link rel="canonical" href="https://dorpascal.com/game-of-life-ai/">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "description": "Implementing Conway’s Game of Life with genetic algorithms to optimize patterns and explore emergent behaviors within the simulation.",
        "headline": "Genetic Algorithm for Conway’s Game of Life Online",
        "name": "Game of Life AI Simulator Online",
        "url": "https://dorpascal.com/game-of-life-ai/"
    }
    </script>

    <!-- Icons and Manifest -->
    <link rel="icon" type="image/png" sizes="32x32" href="./icons8-grid-parakeet-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./icons8-grid-parakeet-16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
    <link rel="manifest" href="https://dorpascal.com/site.webmanifest">
    <link rel="shortcut icon" href="https://dorpascal.com/favicon.ico">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css">
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.css">

    <!-- Title -->
    <title>Conway's Game of Life Online Simulator</title>

    <!-- Inline Styles -->
    <style>
        body {
            font-family: 'Courier New', monospace;
            background-color: Lavender;
            color: #333333;
            margin: 0;
            padding: 0;
            text-align: center;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            font-size: large;
            font-weight: bold;
        }

        h1 {
            margin: 20px 0;
        }

        #controls {
            margin-bottom: 20px;
        }

        button {
            background: #11307d;
            color: #FFFFFF;
            border: 1px solid #11307d;
            border-radius: 0;
            font-size: large;
            font-weight: bold;
            margin: 5px;
            transition: 0.3s;
        }

        button:hover {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
            background: #ee6161;
            border-color: #555555;
        }

        .drawingarea {
            display: grid;
            margin: 0 auto;
            background: #FFFFFF;
            border: 2px solid #555555;
            width: fit-content;
            overflow: hidden;
        }

        .cell {
            width: 100%;
            height: 100%;
            border: 1px solid #ddd;
            cursor: pointer;
        }

        .alive {
            background-color: #80e5ff;
        }

        .young {
            background-color: #33b5e5;
        }

        .old {
            background-color: #0099cc;
        }

        .veteran {
            background-color: #0077b3;
        }

        .content {
            flex: 1;
        }

        footer {
            margin-top: 20px;
            padding: 10px 0;
            padding-left: 20px;
            display: flex;
            justify-content: start;
            align-items: start;
            flex-direction: row;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header a {
            color: #00FFFFFC;
            transition: color 0.3s ease-in-out;
        }

        header a:hover {
            color: #ade8f4;
            text-decoration: none;
            transform: scale(1.05);
        }

        header svg {
            filter: brightness(110%);
            fill: lavender;
            margin: 0 6px;
            transition: fill 0.3s ease-in-out, transform 0.3s ease-in-out;
        }

        header svg:hover {
            fill: #ade8f4;
            transform: rotate(15deg);
        }

        footer p {
            margin: 5px 0;
            text-align: center;
        }

        @media (max-width: 400px) {
            .drawingarea {
                grid-template-columns: repeat(auto-fit, minmax(10px, 1fr));
                grid-template-rows: repeat(auto-fit, minmax(10px, 1fr));
                width: 100%;
            }

            #controls {
                flex-direction: column;
                align-items: center;
            }

            h1 {
                font-size: 2.8rem;
            }

            header {
                line-height: 1;
            }

            button {
                font-size: small !important;
                margin: 0 0 0.5em 0;
                padding-left: 1em !important;
                padding-right: 1em !important;
            }

            footer {
                font-size: small;
            }
        }

        #themeSelector {
            text-align: center;
            width: calc(min(100%, 200px));
            border: 2px solid lavender;
            border-radius: 5px;
            background-color: #fff;
            transition: border-color 0.25s ease-in-out, box-shadow 0.25s ease-in-out;
        }

        #themeSelector:hover {
            cursor: pointer;
            border-color: #0056b3;
            box-shadow: 0 0 8px #007BFF;
        }

        #themeSelector option {
            text-align: center;
            padding: 10px;
        }

        #themeStylesheet {
            display: none;
        }

        .cell:hover {
            box-shadow: 0 0 5px #555555;
            border: 1px solid #555555;
        }

        .cell {
            transition: all 0.3s;
        }

        header {
            padding: 0 20px;
            padding-top: 10px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: normal;
            background: linear-gradient(to right, #6a11cb 0%, Lavender 100%);
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        header p {
            margin: 0;
            text-align: left;
        }

        #themes {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            background-color: transparent;
        }

        #themes label {
            margin-right: 10px;
            font-size: 1.2rem;
            background-color: transparent;
        }
    </style>
</head>

<body>
    <div class="content">
        <header>

            <a href="https://github.com/Dor-sketch/game-of-life-ai" target="_blank" aria-label="View source on GitHub"
                title="View source on GitHub">
                <svg height="32" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="32"
                    aria-hidden="true">
                    <path fill-rule="evenodd"
                        d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.58.82-2.14-.08-.2-.36-1.02.08-2.13 0 0 .67-.22 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.11.16 1.93.08 2.13.51.56.82 1.27.82 2.14 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                    </path>
                </svg>
            </a>
            <div id="themes">
                <label for="themeSelector">Theme:</label>
                <select id="themeSelector" onchange="changeTheme()" aria-label="Select a theme" title="Select a theme"
                    style="border-color: Lavender;">
                    <!-- Options will be populated by JavaScript -->
                </select>
            </div>
        </header>
        <h1>Conway's Game of Life</h1>

        <div id="gameBoard" class="drawingarea"></div>
        <link id="themeStylesheet" rel="stylesheet" type="text/css" href="css/Lavender.css">
        <div id="controls">
            <button onclick="toggleGame()">Start</button>
            <button onclick="clearBoard()">Clear</button>
            <button onclick="randomizeBoard()">Random</button>
            <button onclick="performNextGeneration()">Next</button>
        </div>
    </div>
    <footer>
        <p>Dessigned by <a href="https://dorpascal.com" target="_blank" aria-label="Dor Pascal" title="Dor Pascal">Dor
                Pascal </a>  &copy; 2024 | <a href="./about/" title="About" aria-label="About">About</a></p>

    <script>
        const INITIAL_BOARD_SIZE = 30;
        let boardSize = INITIAL_BOARD_SIZE;
        let board = createBoard(boardSize);
        let ageBoard = createBoard(boardSize); // Separate board to track the age of cells
        let interval;
        let isRunning = false;
        const themeFiles = ['Lavender.css', 'LightBlue.css', 'AliceBlue.css', 'MintCream.css', 'LightGreen.css', 'Orange.css', 'PaleVioletRed.css', 'PeachPuff.css', 'MediumPurple.css', 'Gainsboro.css', 'SeaGreen.css'];

        document.addEventListener('DOMContentLoaded', () => {
            populateThemeSelector();
            adjustBoardSize();
            drawBoard();
        });

        function createBoard(size) {
            return Array.from({ length: size }, () => Array(size).fill(0));
        }

        function drawBoard() {
            const gameBoard = document.getElementById('gameBoard');
            gameBoard.innerHTML = '';
            gameBoard.style.gridTemplateRows = `repeat(${boardSize}, 20px)`;
            gameBoard.style.gridTemplateColumns = `repeat(${boardSize}, 20px)`;

            for (let i = 0; i < boardSize; i++) {
                for (let j = 0; j < boardSize; j++) {
                    const cell = document.createElement('div');
                    cell.classList.add('cell');
                    updateCellClass(cell, i, j);
                    cell.addEventListener('click', () => toggleCellState(i, j, cell));
                    gameBoard.appendChild(cell);
                }
            }
        }

        function toggleCellState(i, j, cell) {
            board[i][j] = board[i][j] ? 0 : 1;
            if (board[i][j]) {
                ageBoard[i][j] = 1; // Reset age to 1 when cell becomes alive
            } else {
                ageBoard[i][j] = 0; // Reset age to 0 when cell dies
            }
            updateCellClass(cell, i, j);
        }

        function updateCellClass(cell, i, j) {
            cell.className = 'cell'; // Reset class
            if (board[i][j]) {
                cell.classList.add('alive');
                const age = ageBoard[i][j];
                if (age > 2 && age < 5) {
                    cell.classList.add('young');
                } else if (age >= 5 && age < 10) {
                    cell.classList.add('old');
                } else if (age >= 10) {
                    cell.classList.add('veteran');
                }
            }
        }

        function toggleGame() {
            isRunning = !isRunning;
            if (isRunning) {
                interval = setInterval(() => {
                    performNextGeneration();
                    updateBoard();
                }, 100);
                document.querySelector('#controls button').textContent = 'Pause';
            } else {
                clearInterval(interval);
                document.querySelector('#controls button').textContent = 'Start';
            }
        }

        function clearBoard() {
            board = createBoard(boardSize);
            ageBoard = createBoard(boardSize);
            drawBoard();
        }

        function randomizeBoard() {
            board = createBoard(boardSize).map(row => row.map(() => (Math.random() > 0.7 ? 1 : 0)));
            ageBoard = createBoard(boardSize);
            drawBoard();
        }

        function performNextGeneration() {
            const newBoard = createBoard(boardSize);
            const newAgeBoard = createBoard(boardSize);

            for (let i = 0; i < boardSize; i++) {
                for (let j = 0; j < boardSize; j++) {
                    const aliveNeighbors = countAliveNeighbors(i, j);
                    if (board[i][j]) {
                        newBoard[i][j] = aliveNeighbors === 2 || aliveNeighbors === 3 ? 1 : 0;
                        newAgeBoard[i][j] = newBoard[i][j] ? ageBoard[i][j] + 1 : 0;
                    } else {
                        newBoard[i][j] = aliveNeighbors === 3 ? 1 : 0;
                        newAgeBoard[i][j] = newBoard[i][j] ? 1 : 0;
                    }
                }
            }

            board = newBoard;
            ageBoard = newAgeBoard;
        }

        function updateBoard() {
            const cells = document.getElementsByClassName('cell');
            for (let i = 0; i < boardSize; i++) {
                for (let j = 0; j < boardSize; j++) {
                    const cell = cells[i * boardSize + j];
                    updateCellClass(cell, i, j);
                }
            }
        }

        function countAliveNeighbors(x, y) {
            let count = 0;
            for (let i = -1; i <= 1; i++) {
                for (let j = -1; j <= 1; j++) {
                    if (i === 0 && j === 0) continue;
                    const nx = x + i;
                    const ny = y + j;
                    if (nx >= 0 && nx < boardSize && ny >= 0 && ny < boardSize) {
                        count += board[nx][ny];
                    }
                }
            }
            return count;
        }

        function populateThemeSelector() {
            const themeSelector = document.getElementById('themeSelector');
            themeFiles.forEach(themeFile => {
                const option = document.createElement('option');
                option.value = `css/${themeFile}`;
                option.textContent = themeFile.replace('.css', '');
                themeSelector.appendChild(option);
            });
        }

        function changeTheme() {
            const themeSelector = document.getElementById('themeSelector');
            const themeStylesheet = document.getElementById('themeStylesheet');
            themeStylesheet.href = themeSelector.value;
        }

        function adjustBoardSize() {
            const screenWidth = window.innerWidth;

            if (screenWidth <= 600) {
                boardSize = 20; // Reduce the size of the board for smaller screens
            } else {
                boardSize = INITIAL_BOARD_SIZE; // Default size for larger screens
            }

            board = createBoard(boardSize);
            ageBoard = createBoard(boardSize);
        }
        // change meta tag color theme based on theme selected

        function changeTheme() {
            const themeSelector = document.getElementById('themeSelector');
            const themeStylesheet = document.getElementById('themeStylesheet');
            themeStylesheet.href = themeSelector.value;
            const themeColor = themeSelector.value.replace('css/', '').replace('.css', '');
            document.querySelector('meta[name="theme-color"]').setAttribute('content', themeColor);
            // update github link color
            document.querySelector('.octicon-mark-github').style.fill = themeColor;
            // update header background color
            document.querySelector('header').style.background = `linear-gradient(to right, #6a11cb 0%, ${themeColor} 100%)`;
            // update select border color
            document.querySelector('#themeSelector').style.borderColor = themeColor;

        }


    </script>


</body>

</html>